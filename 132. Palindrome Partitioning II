class Solution {
    Boolean[][] pal;
    public boolean ispal(String s, int i, int j){
        if(pal[i][j]!=null){
            return pal[i][j];
        }
        while(i<j){
            if(s.charAt(i)!=s.charAt(j)){
                return pal[i][j] =  false;
            }
            i++;j--;
        }
        return pal[i][j] = true;
    }
    public int solve(String s, int i, int j,Integer[][] dp){
        if(i>=j){
            return dp[i][j] = 0;
        }
        if(ispal(s,i,j)){
            return dp[i][j]=0;
        }
        if(dp[i][j]!=null){
            return dp[i][j];
        }
        int res = Integer.MAX_VALUE;
        for(int k=i;k<j;k++){
           if(ispal(s,i,k)){
                int right = solve(s, k+1, j, dp);
                res = Math.min(res, 1 + right);
            }
        }
        return dp[i][j] = res;
    }
    public int minCut(String s) {
        pal = new Boolean[2001][2001];
        Integer[][] dp = new Integer[2001][2001];
        return solve(s,0,s.length()-1,dp);
    }
}
