class Solution {
    int m;
    int n;
    Integer[][] dp;
    public int solve(int[][] obs, int i, int j){
        if(i==m-1&&j==n-1){
            return 1;
        }
        if(i<0||j<0||i==m||j==n){
            return 0;
        }
        if(obs[i][j]==1){
            return 0;
        }
        if(dp[i][j]!=null){
            return dp[i][j];
        }
        int r = solve(obs,i+1,j);
        int d = solve(obs,i,j+1);
        return dp[i][j] = r+d;
    }
    public int uniquePathsWithObstacles(int[][] obs) {
        m = obs.length;
        n = obs[0].length;
        if(obs[m-1][n-1]==1){
            return 0;
        }
        dp = new Integer[m][n];
        return solve(obs,0,0);
    }
}
